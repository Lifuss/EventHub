name: Build and deploy to GitHub Pages

on:
  push:
    branches: [main]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v2.3.1

      - name: Setup Node.js ğŸ”§
        uses: actions/setup-node@v2
        with:
          node-version: "18"

      - name: Install, lint, build ğŸ”§
        working-directory: ./fe # Ğ’ĞºĞ°Ğ·ÑƒÑ”Ğ¼Ğ¾, Ñ‰Ğ¾ Ğ¿Ñ€Ğ°Ñ†ÑÑ”Ğ¼Ğ¾ Ğ² Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ñ–Ñ— Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ñƒ
        run: |
          npm install
          npm run lint
          npm run build

      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@4.1.0
        with:
          branch: gh-pages
          folder: fe/build # Ğ—Ğ¼Ñ–Ğ½Ñ–Ñ‚ÑŒ Ğ½Ğ° Ğ²Ğ°Ñˆ Ğ²Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ Ğ¿Ñ–ÑĞ»Ñ Ğ¿Ğ¾Ğ±ÑƒĞ´Ğ¾Ğ²Ğ¸
